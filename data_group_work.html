<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Bruno Figueiredo">
<meta name="author" content="Carlos Matos">
<meta name="author" content="João Almeida">
<meta name="dcterms.date" content="2022-10-11">

<title>DATA * HEADS 22-26 image alt &gt;2 image alt &gt;1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="data_group_work_files/libs/clipboard/clipboard.min.js"></script>
<script src="data_group_work_files/libs/quarto-html/quarto.js"></script>
<script src="data_group_work_files/libs/quarto-html/popper.min.js"></script>
<script src="data_group_work_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="data_group_work_files/libs/quarto-html/anchor.min.js"></script>
<link href="data_group_work_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_group_work_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="data_group_work_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="data_group_work_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="data_group_work_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="data_group_work_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="data_group_work_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="data_group_work_files/libs/datatables-binding-0.22/datatables.js"></script>
<script src="data_group_work_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="data_group_work_files/libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="data_group_work_files/libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="data_group_work_files/libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="data_group_work_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="data_group_work_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><p>DATA * HEADS 22-26 <a href="https://sigarra.up.pt/fmup/en/web_page.inicial"><img src="./images/fmup.png" class="img-fluid" alt="image alt >2"></a> <a href="https://heads.med.up.pt/en/"><img src="./images/heads.png" class="img-fluid" alt="image alt >1"></a></p></h1>
<p class="subtitle lead">Group Work</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Bruno Figueiredo </p>
             <p>Carlos Matos </p>
             <p>João Almeida </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 11, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="dying-all-over-the-world-what-changed-over-time-and-where-does-portugal-stand" class="level1 main_header">
<h1 class="main_header">Dying all over the world: What changed over time and where does Portugal stand?</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Introduction</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Initial Setup</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Exploring our data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Over Time</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">Portugal</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">References</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>This report was made as part of the DATA class. The main goal was to deal with data cleaning and preparation issues, and carry out an exploratory data analysis. We were assigned the Global Burden of Disease database. We used the 2019 version, available at this <a href="https://vizhub.healthdata.org/gbd-results/">link</a>. <br></p>
<p>The theme that guided our work was <em>Dying all over the world: What changed over time and where does Portugal stand?</em> <br></p>
<p>More specifically, our overview answers the questions:</p>
<ul>
<li><p>What are the main causes of death worldwide?</p></li>
<li><p>How have these causes changed over time?</p></li>
<li><p>How are these causes distributed across countries?</p></li>
<li><p>How does Portual compare with other countries?</p>
<ul>
<li>Over time?</li>
<li>Across causes of death?</li>
</ul></li>
<li><p>What are the main risk factors for the main causes of death in Portugal?</p></li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>First we load all the necessary packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#importing the necessary packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)          <span class="co"># Import function for multiple file formats</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)    <span class="co"># Data wrangling and visualization</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)       <span class="co"># Number format functions </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools) <span class="co"># Easily explore data</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)   <span class="co"># Display and format html tables</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)      <span class="co"># Data examining and cleaning functions</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#library(plotly)       # Interactive charts</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer) <span class="co"># Choose color palettes for plots</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(directlabels) <span class="co"># Better labels for ggplot</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)           <span class="co"># Interactive tables</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)    <span class="co"># helper functions to format DT tables</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#library(gganimate)   # Create dynamic ggplots </span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#library(magick)     # Generate GIFs and image processing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we import the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># GBD data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 3 files, with:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Level 2 causes</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Metrics = Deaths, DALY</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Metric types = Number, Percent, Rate</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="do">## All countries and territories + global</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Age-standardized and All ages</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Sex = Both</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Years 1990 to 2019</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Names and ID were exported for grouping variables </span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_dfr</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">.x =</span> <span class="fu">paste0</span>(<span class="st">"./raw_data/gbd"</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="st">".csv"</span>),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">.f =</span> <span class="sc">~</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="at">file =</span> .x, </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">encoding =</span> <span class="st">"UTF-8"</span>)) <span class="sc">%&gt;%</span>  <span class="co">#without forcing encoding we get some errors (e.g. "CÃ´te d'Ivoire")</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>()</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Check internal structure of our dataset</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,057,800 x 16] (S3: tbl_df/tbl/data.frame)
 $ measure_id   : int [1:1057800] 1 1 1 1 1 1 1 1 1 1 ...
 $ measure_name : chr [1:1057800] "Deaths" "Deaths" "Deaths" "Deaths" ...
 $ location_id  : int [1:1057800] 50 50 50 50 66 66 66 66 66 66 ...
 $ location_name: chr [1:1057800] "Montenegro" "Montenegro" "Montenegro" "Montenegro" ...
 $ sex_id       : int [1:1057800] 3 3 3 3 3 3 3 3 3 3 ...
 $ sex_name     : chr [1:1057800] "Both" "Both" "Both" "Both" ...
 $ age_id       : int [1:1057800] 22 22 22 27 22 22 22 27 22 22 ...
 $ age_name     : chr [1:1057800] "All ages" "All ages" "All ages" "Age-standardized" ...
 $ cause_id     : int [1:1057800] 696 696 696 696 526 526 526 526 696 696 ...
 $ cause_name   : chr [1:1057800] "Unintentional injuries" "Unintentional injuries" "Unintentional injuries" "Unintentional injuries" ...
 $ metric_id    : int [1:1057800] 1 2 3 3 1 2 3 3 1 2 ...
 $ metric_name  : chr [1:1057800] "Number" "Percent" "Rate" "Rate" ...
 $ year         : int [1:1057800] 1990 1990 1990 1990 1990 1990 1990 1990 1990 1990 ...
 $ val          : num [1:1057800] 115.5454 0.0268 18.4657 19.1723 37.3597 ...
 $ upper        : num [1:1057800] 127.4077 0.0295 20.3615 21.1342 43.4111 ...
 $ lower        : num [1:1057800] 105.2088 0.0247 16.8138 17.4702 31.0454 ...</code></pre>
</div>
</div>
<p>Then we convert the grouping variables to factor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Converting all grouping and filter variables to factor</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span>  </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(location_name, cause_name) <span class="sc">%&gt;%</span> <span class="co">#Sorts to ensure countries and causes levels appear alphabetically</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(measure_id<span class="sc">:</span>metric_name, forcats<span class="sc">::</span>as_factor)) <span class="co">#converts relevant variables to factors</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the conversion worked as expected</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,057,800 x 16] (S3: tbl_df/tbl/data.frame)
 $ measure_id   : Factor w/ 2 levels "1","2": 1 1 1 1 1 1 1 1 2 2 ...
 $ measure_name : Factor w/ 2 levels "Deaths","DALYs (Disability-Adjusted Life Years)": 1 1 1 1 1 1 1 1 2 2 ...
 $ location_id  : Factor w/ 205 levels "1","6","7","8",..: 135 135 135 135 135 135 135 135 135 135 ...
 $ location_name: Factor w/ 205 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ sex_id       : Factor w/ 1 level "3": 1 1 1 1 1 1 1 1 1 1 ...
 $ sex_name     : Factor w/ 1 level "Both": 1 1 1 1 1 1 1 1 1 1 ...
 $ age_id       : Factor w/ 2 levels "22","27": 1 1 1 2 1 1 1 2 1 1 ...
 $ age_name     : Factor w/ 2 levels "All ages","Age-standardized": 1 1 1 2 1 1 1 2 1 1 ...
 $ cause_id     : Factor w/ 22 levels "344","386","410",..: 4 4 4 4 4 4 4 4 4 4 ...
 $ cause_name   : Factor w/ 22 levels "Cardiovascular diseases",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ metric_id    : Factor w/ 3 levels "1","2","3": 1 2 3 3 1 2 3 3 1 2 ...
 $ metric_name  : Factor w/ 3 levels "Number","Percent",..: 1 2 3 3 1 2 3 3 1 2 ...
 $ year         : int [1:1057800] 1990 1990 1990 1990 1991 1991 1991 1991 1991 1991 ...
 $ val          : num [1:1057800] 4.49e+04 2.46e-01 3.93e+02 7.16e+02 4.55e+04 ...
 $ upper        : num [1:1057800] 52935.72 0.27 463.58 829.89 54080.09 ...
 $ lower        : num [1:1057800] 3.72e+04 2.22e-01 3.26e+02 6.09e+02 3.77e+04 ...</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Checking the levels for each grouping variable:</p>
<details>
<summary>
measure_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Deaths
</td>
</tr>
<tr>
<td style="text-align:left;">
DALYs (Disability-Adjusted Life Years)
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<details>
<summary>
location_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
</tr>
<tr>
<td style="text-align:left;">
Albania
</td>
</tr>
<tr>
<td style="text-align:left;">
Algeria
</td>
</tr>
<tr>
<td style="text-align:left;">
American Samoa
</td>
</tr>
<tr>
<td style="text-align:left;">
Andorra
</td>
</tr>
<tr>
<td style="text-align:left;">
Angola
</td>
</tr>
<tr>
<td style="text-align:left;">
Antigua and Barbuda
</td>
</tr>
<tr>
<td style="text-align:left;">
Argentina
</td>
</tr>
<tr>
<td style="text-align:left;">
Armenia
</td>
</tr>
<tr>
<td style="text-align:left;">
Australia
</td>
</tr>
<tr>
<td style="text-align:left;">
Austria
</td>
</tr>
<tr>
<td style="text-align:left;">
Azerbaijan
</td>
</tr>
<tr>
<td style="text-align:left;">
Bahamas
</td>
</tr>
<tr>
<td style="text-align:left;">
Bahrain
</td>
</tr>
<tr>
<td style="text-align:left;">
Bangladesh
</td>
</tr>
<tr>
<td style="text-align:left;">
Barbados
</td>
</tr>
<tr>
<td style="text-align:left;">
Belarus
</td>
</tr>
<tr>
<td style="text-align:left;">
Belgium
</td>
</tr>
<tr>
<td style="text-align:left;">
Belize
</td>
</tr>
<tr>
<td style="text-align:left;">
Benin
</td>
</tr>
<tr>
<td style="text-align:left;">
Bermuda
</td>
</tr>
<tr>
<td style="text-align:left;">
Bhutan
</td>
</tr>
<tr>
<td style="text-align:left;">
Bolivia (Plurinational State of)
</td>
</tr>
<tr>
<td style="text-align:left;">
Bosnia and Herzegovina
</td>
</tr>
<tr>
<td style="text-align:left;">
Botswana
</td>
</tr>
<tr>
<td style="text-align:left;">
Brazil
</td>
</tr>
<tr>
<td style="text-align:left;">
Brunei Darussalam
</td>
</tr>
<tr>
<td style="text-align:left;">
Bulgaria
</td>
</tr>
<tr>
<td style="text-align:left;">
Burkina Faso
</td>
</tr>
<tr>
<td style="text-align:left;">
Burundi
</td>
</tr>
<tr>
<td style="text-align:left;">
Cabo Verde
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambodia
</td>
</tr>
<tr>
<td style="text-align:left;">
Cameroon
</td>
</tr>
<tr>
<td style="text-align:left;">
Canada
</td>
</tr>
<tr>
<td style="text-align:left;">
Central African Republic
</td>
</tr>
<tr>
<td style="text-align:left;">
Chad
</td>
</tr>
<tr>
<td style="text-align:left;">
Chile
</td>
</tr>
<tr>
<td style="text-align:left;">
China
</td>
</tr>
<tr>
<td style="text-align:left;">
Colombia
</td>
</tr>
<tr>
<td style="text-align:left;">
Comoros
</td>
</tr>
<tr>
<td style="text-align:left;">
Congo
</td>
</tr>
<tr>
<td style="text-align:left;">
Cook Islands
</td>
</tr>
<tr>
<td style="text-align:left;">
Costa Rica
</td>
</tr>
<tr>
<td style="text-align:left;">
Côte d’Ivoire
</td>
</tr>
<tr>
<td style="text-align:left;">
Croatia
</td>
</tr>
<tr>
<td style="text-align:left;">
Cuba
</td>
</tr>
<tr>
<td style="text-align:left;">
Cyprus
</td>
</tr>
<tr>
<td style="text-align:left;">
Czechia
</td>
</tr>
<tr>
<td style="text-align:left;">
Democratic People’s Republic of Korea
</td>
</tr>
<tr>
<td style="text-align:left;">
Democratic Republic of the Congo
</td>
</tr>
<tr>
<td style="text-align:left;">
Denmark
</td>
</tr>
<tr>
<td style="text-align:left;">
Djibouti
</td>
</tr>
<tr>
<td style="text-align:left;">
Dominica
</td>
</tr>
<tr>
<td style="text-align:left;">
Dominican Republic
</td>
</tr>
<tr>
<td style="text-align:left;">
Ecuador
</td>
</tr>
<tr>
<td style="text-align:left;">
Egypt
</td>
</tr>
<tr>
<td style="text-align:left;">
El Salvador
</td>
</tr>
<tr>
<td style="text-align:left;">
Equatorial Guinea
</td>
</tr>
<tr>
<td style="text-align:left;">
Eritrea
</td>
</tr>
<tr>
<td style="text-align:left;">
Estonia
</td>
</tr>
<tr>
<td style="text-align:left;">
Eswatini
</td>
</tr>
<tr>
<td style="text-align:left;">
Ethiopia
</td>
</tr>
<tr>
<td style="text-align:left;">
Fiji
</td>
</tr>
<tr>
<td style="text-align:left;">
Finland
</td>
</tr>
<tr>
<td style="text-align:left;">
France
</td>
</tr>
<tr>
<td style="text-align:left;">
Gabon
</td>
</tr>
<tr>
<td style="text-align:left;">
Gambia
</td>
</tr>
<tr>
<td style="text-align:left;">
Georgia
</td>
</tr>
<tr>
<td style="text-align:left;">
Germany
</td>
</tr>
<tr>
<td style="text-align:left;">
Ghana
</td>
</tr>
<tr>
<td style="text-align:left;">
Global
</td>
</tr>
<tr>
<td style="text-align:left;">
Greece
</td>
</tr>
<tr>
<td style="text-align:left;">
Greenland
</td>
</tr>
<tr>
<td style="text-align:left;">
Grenada
</td>
</tr>
<tr>
<td style="text-align:left;">
Guam
</td>
</tr>
<tr>
<td style="text-align:left;">
Guatemala
</td>
</tr>
<tr>
<td style="text-align:left;">
Guinea
</td>
</tr>
<tr>
<td style="text-align:left;">
Guinea-Bissau
</td>
</tr>
<tr>
<td style="text-align:left;">
Guyana
</td>
</tr>
<tr>
<td style="text-align:left;">
Haiti
</td>
</tr>
<tr>
<td style="text-align:left;">
Honduras
</td>
</tr>
<tr>
<td style="text-align:left;">
Hungary
</td>
</tr>
<tr>
<td style="text-align:left;">
Iceland
</td>
</tr>
<tr>
<td style="text-align:left;">
India
</td>
</tr>
<tr>
<td style="text-align:left;">
Indonesia
</td>
</tr>
<tr>
<td style="text-align:left;">
Iran (Islamic Republic of)
</td>
</tr>
<tr>
<td style="text-align:left;">
Iraq
</td>
</tr>
<tr>
<td style="text-align:left;">
Ireland
</td>
</tr>
<tr>
<td style="text-align:left;">
Israel
</td>
</tr>
<tr>
<td style="text-align:left;">
Italy
</td>
</tr>
<tr>
<td style="text-align:left;">
Jamaica
</td>
</tr>
<tr>
<td style="text-align:left;">
Japan
</td>
</tr>
<tr>
<td style="text-align:left;">
Jordan
</td>
</tr>
<tr>
<td style="text-align:left;">
Kazakhstan
</td>
</tr>
<tr>
<td style="text-align:left;">
Kenya
</td>
</tr>
<tr>
<td style="text-align:left;">
Kiribati
</td>
</tr>
<tr>
<td style="text-align:left;">
Kuwait
</td>
</tr>
<tr>
<td style="text-align:left;">
Kyrgyzstan
</td>
</tr>
<tr>
<td style="text-align:left;">
Lao People’s Democratic Republic
</td>
</tr>
<tr>
<td style="text-align:left;">
Latvia
</td>
</tr>
<tr>
<td style="text-align:left;">
Lebanon
</td>
</tr>
<tr>
<td style="text-align:left;">
Lesotho
</td>
</tr>
<tr>
<td style="text-align:left;">
Liberia
</td>
</tr>
<tr>
<td style="text-align:left;">
Libya
</td>
</tr>
<tr>
<td style="text-align:left;">
Lithuania
</td>
</tr>
<tr>
<td style="text-align:left;">
Luxembourg
</td>
</tr>
<tr>
<td style="text-align:left;">
Madagascar
</td>
</tr>
<tr>
<td style="text-align:left;">
Malawi
</td>
</tr>
<tr>
<td style="text-align:left;">
Malaysia
</td>
</tr>
<tr>
<td style="text-align:left;">
Maldives
</td>
</tr>
<tr>
<td style="text-align:left;">
Mali
</td>
</tr>
<tr>
<td style="text-align:left;">
Malta
</td>
</tr>
<tr>
<td style="text-align:left;">
Marshall Islands
</td>
</tr>
<tr>
<td style="text-align:left;">
Mauritania
</td>
</tr>
<tr>
<td style="text-align:left;">
Mauritius
</td>
</tr>
<tr>
<td style="text-align:left;">
Mexico
</td>
</tr>
<tr>
<td style="text-align:left;">
Micronesia (Federated States of)
</td>
</tr>
<tr>
<td style="text-align:left;">
Monaco
</td>
</tr>
<tr>
<td style="text-align:left;">
Mongolia
</td>
</tr>
<tr>
<td style="text-align:left;">
Montenegro
</td>
</tr>
<tr>
<td style="text-align:left;">
Morocco
</td>
</tr>
<tr>
<td style="text-align:left;">
Mozambique
</td>
</tr>
<tr>
<td style="text-align:left;">
Myanmar
</td>
</tr>
<tr>
<td style="text-align:left;">
Namibia
</td>
</tr>
<tr>
<td style="text-align:left;">
Nauru
</td>
</tr>
<tr>
<td style="text-align:left;">
Nepal
</td>
</tr>
<tr>
<td style="text-align:left;">
Netherlands
</td>
</tr>
<tr>
<td style="text-align:left;">
New Zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
Nicaragua
</td>
</tr>
<tr>
<td style="text-align:left;">
Niger
</td>
</tr>
<tr>
<td style="text-align:left;">
Nigeria
</td>
</tr>
<tr>
<td style="text-align:left;">
Niue
</td>
</tr>
<tr>
<td style="text-align:left;">
North Macedonia
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Mariana Islands
</td>
</tr>
<tr>
<td style="text-align:left;">
Norway
</td>
</tr>
<tr>
<td style="text-align:left;">
Oman
</td>
</tr>
<tr>
<td style="text-align:left;">
Pakistan
</td>
</tr>
<tr>
<td style="text-align:left;">
Palau
</td>
</tr>
<tr>
<td style="text-align:left;">
Palestine
</td>
</tr>
<tr>
<td style="text-align:left;">
Panama
</td>
</tr>
<tr>
<td style="text-align:left;">
Papua New Guinea
</td>
</tr>
<tr>
<td style="text-align:left;">
Paraguay
</td>
</tr>
<tr>
<td style="text-align:left;">
Peru
</td>
</tr>
<tr>
<td style="text-align:left;">
Philippines
</td>
</tr>
<tr>
<td style="text-align:left;">
Poland
</td>
</tr>
<tr>
<td style="text-align:left;">
Portugal
</td>
</tr>
<tr>
<td style="text-align:left;">
Puerto Rico
</td>
</tr>
<tr>
<td style="text-align:left;">
Qatar
</td>
</tr>
<tr>
<td style="text-align:left;">
Republic of Korea
</td>
</tr>
<tr>
<td style="text-align:left;">
Republic of Moldova
</td>
</tr>
<tr>
<td style="text-align:left;">
Romania
</td>
</tr>
<tr>
<td style="text-align:left;">
Russian Federation
</td>
</tr>
<tr>
<td style="text-align:left;">
Rwanda
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Kitts and Nevis
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Lucia
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Vincent and the Grenadines
</td>
</tr>
<tr>
<td style="text-align:left;">
Samoa
</td>
</tr>
<tr>
<td style="text-align:left;">
San Marino
</td>
</tr>
<tr>
<td style="text-align:left;">
Sao Tome and Principe
</td>
</tr>
<tr>
<td style="text-align:left;">
Saudi Arabia
</td>
</tr>
<tr>
<td style="text-align:left;">
Senegal
</td>
</tr>
<tr>
<td style="text-align:left;">
Serbia
</td>
</tr>
<tr>
<td style="text-align:left;">
Seychelles
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
</tr>
<tr>
<td style="text-align:left;">
Singapore
</td>
</tr>
<tr>
<td style="text-align:left;">
Slovakia
</td>
</tr>
<tr>
<td style="text-align:left;">
Slovenia
</td>
</tr>
<tr>
<td style="text-align:left;">
Solomon Islands
</td>
</tr>
<tr>
<td style="text-align:left;">
Somalia
</td>
</tr>
<tr>
<td style="text-align:left;">
South Africa
</td>
</tr>
<tr>
<td style="text-align:left;">
South Sudan
</td>
</tr>
<tr>
<td style="text-align:left;">
Spain
</td>
</tr>
<tr>
<td style="text-align:left;">
Sri Lanka
</td>
</tr>
<tr>
<td style="text-align:left;">
Sudan
</td>
</tr>
<tr>
<td style="text-align:left;">
Suriname
</td>
</tr>
<tr>
<td style="text-align:left;">
Sweden
</td>
</tr>
<tr>
<td style="text-align:left;">
Switzerland
</td>
</tr>
<tr>
<td style="text-align:left;">
Syrian Arab Republic
</td>
</tr>
<tr>
<td style="text-align:left;">
Taiwan (Province of China)
</td>
</tr>
<tr>
<td style="text-align:left;">
Tajikistan
</td>
</tr>
<tr>
<td style="text-align:left;">
Thailand
</td>
</tr>
<tr>
<td style="text-align:left;">
Timor-Leste
</td>
</tr>
<tr>
<td style="text-align:left;">
Togo
</td>
</tr>
<tr>
<td style="text-align:left;">
Tokelau
</td>
</tr>
<tr>
<td style="text-align:left;">
Tonga
</td>
</tr>
<tr>
<td style="text-align:left;">
Trinidad and Tobago
</td>
</tr>
<tr>
<td style="text-align:left;">
Tunisia
</td>
</tr>
<tr>
<td style="text-align:left;">
Turkey
</td>
</tr>
<tr>
<td style="text-align:left;">
Turkmenistan
</td>
</tr>
<tr>
<td style="text-align:left;">
Tuvalu
</td>
</tr>
<tr>
<td style="text-align:left;">
Uganda
</td>
</tr>
<tr>
<td style="text-align:left;">
Ukraine
</td>
</tr>
<tr>
<td style="text-align:left;">
United Arab Emirates
</td>
</tr>
<tr>
<td style="text-align:left;">
United Kingdom
</td>
</tr>
<tr>
<td style="text-align:left;">
United Republic of Tanzania
</td>
</tr>
<tr>
<td style="text-align:left;">
United States of America
</td>
</tr>
<tr>
<td style="text-align:left;">
United States Virgin Islands
</td>
</tr>
<tr>
<td style="text-align:left;">
Uruguay
</td>
</tr>
<tr>
<td style="text-align:left;">
Uzbekistan
</td>
</tr>
<tr>
<td style="text-align:left;">
Vanuatu
</td>
</tr>
<tr>
<td style="text-align:left;">
Venezuela (Bolivarian Republic of)
</td>
</tr>
<tr>
<td style="text-align:left;">
Viet Nam
</td>
</tr>
<tr>
<td style="text-align:left;">
Yemen
</td>
</tr>
<tr>
<td style="text-align:left;">
Zambia
</td>
</tr>
<tr>
<td style="text-align:left;">
Zimbabwe
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<details>
<summary>
sex_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Both
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<details>
<summary>
age_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
All ages
</td>
</tr>
<tr>
<td style="text-align:left;">
Age-standardized
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<details>
<summary>
cause_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Cardiovascular diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Chronic respiratory diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Diabetes and kidney diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Digestive diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Enteric infections
</td>
</tr>
<tr>
<td style="text-align:left;">
HIV/AIDS and sexually transmitted infections
</td>
</tr>
<tr>
<td style="text-align:left;">
Maternal and neonatal disorders
</td>
</tr>
<tr>
<td style="text-align:left;">
Mental disorders
</td>
</tr>
<tr>
<td style="text-align:left;">
Musculoskeletal disorders
</td>
</tr>
<tr>
<td style="text-align:left;">
Neglected tropical diseases and malaria
</td>
</tr>
<tr>
<td style="text-align:left;">
Neoplasms
</td>
</tr>
<tr>
<td style="text-align:left;">
Neurological disorders
</td>
</tr>
<tr>
<td style="text-align:left;">
Nutritional deficiencies
</td>
</tr>
<tr>
<td style="text-align:left;">
Other infectious diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Other non-communicable diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Respiratory infections and tuberculosis
</td>
</tr>
<tr>
<td style="text-align:left;">
Self-harm and interpersonal violence
</td>
</tr>
<tr>
<td style="text-align:left;">
Sense organ diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Skin and subcutaneous diseases
</td>
</tr>
<tr>
<td style="text-align:left;">
Substance use disorders
</td>
</tr>
<tr>
<td style="text-align:left;">
Transport injuries
</td>
</tr>
<tr>
<td style="text-align:left;">
Unintentional injuries
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<details>
<summary>
metric_name
</summary>

<table class="kable_wrapper">
<tbody>
<tr>
<td>

<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Number
</td>
</tr>
<tr>
<td style="text-align:left;">
Percent
</td>
</tr>
<tr>
<td style="text-align:left;">
Rate
</td>
</tr>
</tbody>

</table>
</td>
</tr>
</tbody>

</table>
</details>
<p>We quickly summarize our data with <em>summarytools</em> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking for missing values</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">ends_with</span>(<span class="st">"id"</span>)) <span class="sc">%&gt;%</span> <span class="co">#remove the id variables</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(<span class="at">plain.ascii =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">style =</span> <span class="st">"grid"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">method =</span> <span class="st">"render"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="container st-container">
<h3 class="anchored" data-anchor-id="dying-all-over-the-world-what-changed-over-time-and-where-does-portugal-stand">Data Frame Summary</h3>
<h4 class="anchored"></h4>
<strong>Dimensions</strong>: 1057800 x 10
  <br><strong>Duplicates</strong>: 0
<br>
<table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline ">
  <thead>
    <tr>
      <th align="center" class="st-protect-top-border"><strong>No</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Graph</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Valid</strong></th>
      <th align="center" class="st-protect-top-border"><strong>Missing</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">1</td>
      <td align="left">measure_name
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Deaths</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. DALYs (Disability-Adjuste</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">516600</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">48.8%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">541200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">51.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFkAAAA3BAMAAACV2/u2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgTt/KPLwAAAEBJREFUSMdjYBi6QIkYICgAVa1sTBgYjaoeVT2qmq6qScvFgkQBeqgmyt1KCiSEibHxqOpR1aOq6amatFw8FAEAfiJJlFY0LQ8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MTkrMDA6MDB4pzG5AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjE5KzAwOjAwCfqJBQAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">2</td>
      <td align="left">location_name
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Afghanistan</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Albania</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Algeria</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. American Samoa</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. Andorra</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. Angola</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. Antigua and Barbuda</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. Argentina</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. Armenia</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. Australia</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 195 others ]</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">5160</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">0.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">1006200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">95.1%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJsAAAEKBAMAAAD3AjrtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgTt/KPLwAAALNJREFUeNrt1DERw0AUQ0FDcBhkbAjhzy1NEMQq9O9WALZ5MzoOe7LrFdmJw+FwuHW5jLYn110Wh8PhcA1cRhvCdafA4XA43IJcRhvCdafA4XA43IJcRhvCdafA4XA4XAOX0fbkusvicDgcroHLaHty3WVxOBwO18BltCFcdwocDofDLchltCFcdwocDofDLchltCFcdwocDofDNXAZbU/uyuz94+5PZDgcDod7xIXP3f7bF1JVkbCiiaXGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEwLTA5VDE4OjU2OjE5KzAwOjAweKcxuQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMC0wOVQxODo1NjoxOSswMDowMAn6iQUAAAAASUVORK5CYII="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">3</td>
      <td align="left">sex_name
[factor]</td>
      <td align="left">1. Both</td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">1057800</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">100.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAKIAAAAfCAQAAADOr947AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfmCgkSOBO38o8vAAAAhklEQVRo3u3ZQQqAIBQA0X54um7QCbuB16ul2Sp0QMp5K0UQGdCNcS7qtY4+wB8YEWBEQLpPDh/I1/Yo41QvbaPP9hG5mnmdAUYEGBFgRIARAUYEGBFgRIARAUYEGBFgRIARAUYEGBFgRIARAUYEGBFgRMDjoyq37TK58Je0n9cZYESAEQEXZd0F94ufv3YAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MTkrMDA6MDB4pzG5AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjE5KzAwOjAwCfqJBQAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">4</td>
      <td align="left">age_name
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. All ages</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Age-standardized</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">793350</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">75.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">264450</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">25.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAH0AAAA3BAMAAADTbVgcAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgTt/KPLwAAAENJREFUSMdjYBgFSmQCBah+ZWPywKj+Uf2j+kf1D3X9lJafgmQCgUGiH4vXSNKPGf5Go/pH9Y/qH9U/IvRTWn6OZAAAP9eBwvDTQK0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MTkrMDA6MDB4pzG5AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjE5KzAwOjAwCfqJBQAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">5</td>
      <td align="left">cause_name
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Cardiovascular diseases</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Chronic respiratory disea</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Diabetes and kidney disea</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">4. Digestive diseases</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">5. Enteric infections</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">6. HIV/AIDS and sexually tra</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">7. Maternal and neonatal dis</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">8. Mental disorders</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">9. Musculoskeletal disorders</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">10. Neglected tropical diseas</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">[ 12 others ]</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">49200</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">4.7%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">565800</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">53.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAF0AAAEKBAMAAACCo0QLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgTt/KPLwAAAIdJREFUaN7t1MEJgEAMRcEtQTuQtQPtvzc9CF4TWHED889zCuS1Vn/93hrY8vj9PA+e57/x2X+M2Jm9/vD8PL56f/SE5+t6/eF5/i+vPzzPj/LVe5L1+sPz83j9GXtPnufjvnp/9ITn63r94Xn+L68/PM+P8tV7kvU9uO29Z2g8z+d99h8r7wLESH2GLmVwpQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMC0wOVQxODo1NjoxOSswMDowMHinMbkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTAtMDlUMTg6NTY6MTkrMDA6MDAJ+okFAAAAAElFTkSuQmCC"></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">6</td>
      <td align="left">metric_name
[factor]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1. Number</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">2. Percent</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">3. Rate</td></tr></tbody></table></td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">264450</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">25.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">264450</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">25.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">528900</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAFcAAABOBAMAAACnP5cMAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgUKZYajAAAAExJREFUSMdjYBiaQAkTCGIAAahiZWN0YDSqeFTxqGLKFJOUBwWJAYNM8WghM6p4VDHVFY/EcgMTKOAMOixgVPGo4lHFpCgmKQ8ONQAAwEZyy43DiRUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MjArMDA6MDBjsHOJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjIwKzAwOjAwEu3LNQAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">7</td>
      <td align="left">year
[integer]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 2004.5 (8.7)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">1990 ≤ 2004.5 ≤ 2019</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 15 (0)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">30 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJgAAABuBAMAAAApJ8cWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgUKZYajAAAAGJJREFUaN7t18ENgCAMQFFWcIWygd1/NzUh6YWL4kGT9w+FEPLubU1PiohtvYH13GEwGAwGg8FgMBgMBvs8FusVlnmNcZyjz+71NPsKg8FgMBgMBoPBYDDYX7AXdupaq3WvAxR4k0Jjrgw7AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEwLTA5VDE4OjU2OjIwKzAwOjAwY7BziQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMC0wOVQxODo1NjoyMCswMDowMBLtyzUAAAAASUVORK5CYII="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">8</td>
      <td align="left">val
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 150510.8 (3670192)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 67.9 ≤ 393107482</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 1578.8 (24.4)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">1057800 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJgAAABuBAMAAAApJ8cWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgXsJ9LNgAAAEZJREFUaN7tzEERABAQAMCroAINXP9uPCQ4XmY3wEZQ0bd27WQjc8pkMplMJpPJZDKZTCaTyWQymUwmk8lkMpnsz6w/EVQsgF4Nqahzk7UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MjMrMDA6MDBSWGkUAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjIzKzAwOjAwIwXRqAAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">9</td>
      <td align="left">upper
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 181504.2 (4179188)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 89.2 ≤ 417258196</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 2073.3 (23)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">1057800 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJgAAABuBAMAAAApJ8cWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgbuSkHHQAAAEZJREFUaN7tzEERABAQAMCroAINXP9uPCQ4XmY3wEZQ0bd27WQjc8pkMplMJpPJZDKZTCaTyWQymUwmk8lkMpnsz6w/EVQsgF4Nqahzk7UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMDlUMTg6NTY6MjcrMDA6MDCmF00HAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTA5VDE4OjU2OjI3KzAwOjAw10r1uwAAAABJRU5ErkJggg=="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
    <tr>
      <td align="center">10</td>
      <td align="left">lower
[numeric]</td>
      <td align="left" style="padding:8;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tbody><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">Mean (sd) : 124950.8 (3265713)</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">min ≤ med ≤ max:</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">0 ≤ 51.7 ≤ 367776225</td></tr><tr style="background-color:transparent"><td style="padding:0;margin:0;border:0" align="left">IQR (CV) : 1217.5 (26.1)</td></tr></tbody></table></td>
      <td align="left" style="vertical-align:middle">1057800 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent;"><img style="border:none;background-color:transparent;padding:0;max-width:max-content;" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJgAAABuBAMAAAApJ8cWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5goJEjgeyUPzkgAAAEdJREFUaN7tzEERABAQAMCrIIIT4fp34yEBXmY3wEZwIpfebu1sVJVMJpPJZDKZTCaTyWQymUwmk8lkMplMJpPJ/szyieDEBCqXFF09nT4PAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTEwLTA5VDE4OjU2OjMwKzAwOjAwrxpzFwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMC0wOVQxODo1NjozMCswMDowMN5Hy6sAAAAASUVORK5CYII="></td>
      <td align="center">1057800
(100.0%)</td>
      <td align="center">0
(0.0%)</td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href="https://github.com/dcomtois/summarytools">summarytools</a> 1.0.1 (<a href="https://www.r-project.org/">R</a> version 4.1.3)<br>2022-10-09</p>
</div>
</div>
</div>
<p>No duplicates were detected.</p>
<p>No missing values were detected.</p>
<ol type="1">
<li><p>There are more rows with <strong>Deaths</strong> than <strong>DALYs</strong>, meaning there is some combination of variables for which no <strong>Deaths</strong> data is available.</p></li>
<li><p>There are more rows with <strong>All ages</strong> than <strong>Age-standardized</strong>, meaning there is some combination of variables for which no <strong>Age-standardized</strong> data is available.</p></li>
<li><p>There are more rows with <strong>Rate</strong> than other metrics, meaning there is some combination of variables for which no <strong>Number</strong> and <strong>Percent</strong> data is available.</p></li>
<li><p>Only min and max are relevant for the year variable.</p></li>
</ol>
<p>8-10. <strong>val</strong>, <strong>upper</strong> and <strong>lower</strong> are not interpretable, because we are mixing metrics (number, percent and rates) and measures (deaths and DALYs).</p>
<p>We need to check which combination of measures, ages and metrics are available:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-way Crosstab</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">tabyl</span>(data, measure_name,age_name, metric_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Number
                           measure_name All ages Age-standardized
                                 Deaths   129150                0
 DALYs (Disability-Adjusted Life Years)   135300                0

$Percent
                           measure_name All ages Age-standardized
                                 Deaths   129150                0
 DALYs (Disability-Adjusted Life Years)   135300                0

$Rate
                           measure_name All ages Age-standardized
                                 Deaths   129150           129150
 DALYs (Disability-Adjusted Life Years)   135300           135300</code></pre>
</div>
</div>
<p>We see that <em>Age-Standardized</em>’* values are only available for the <strong>Rate</strong> metric.</p>
<p>We see that there are more rows of DALYs than deaths, meaning that there are causes for which no deaths data are available.</p>
<p>Checking for causes which have no values for the <em>Deaths</em> metric:</p>
<!-- NOTE TO SELF: to add a blank line in R Markdown escape a white space (\ ) -->
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_dfr</span>(janitor<span class="sc">::</span><span class="fu">tabyl</span>(data, measure_name,metric_name, cause_name), </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>        <span class="sc">~</span> <span class="fu">as_tibble</span>(.x), <span class="at">.id=</span><span class="st">"id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">if_any</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span> .x <span class="sc">==</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 5
  id                   measure_name Number Percent  Rate
  &lt;chr&gt;                &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
1 Sense organ diseases Deaths            0       0     0</code></pre>
</div>
</div>
<p>We see that the cause of death for which no data is available is <em>Sense organ diseases</em>.</p>
<p><strong><em>In conclusion:</em></strong></p>
<ul>
<li><em>Age-standardized</em> data is only available for <em>Rates</em></li>
<li><em>Deaths</em> data is not available for <em>Sense organ diseases</em>, which may warrant precautions in some types of analyses (that will not be carried out in this report)</li>
</ul>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>In this section we explore how death causes have changed over time.</p>
<p>Firstly, we identify the causes of death with highest magnitude in 2019, to focus on those in our subsequent analyses:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">==</span><span class="st">"Global"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>         year <span class="sc">==</span> <span class="dv">2019</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"All ages"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Rate"</span>) <span class="sc">%&gt;%</span> <span class="co">#apply necessary filters to ensure logical consistency</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(val)) <span class="sc">%&gt;%</span>  <span class="co">#sort from highest to lowest</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name, val) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 x 2
   cause_name                                val
   &lt;fct&gt;                                   &lt;dbl&gt;
 1 Cardiovascular diseases                 240. 
 2 Neoplasms                               130. 
 3 Chronic respiratory diseases             51.4
 4 Respiratory infections and tuberculosis  47.6
 5 Diabetes and kidney diseases             38.6
 6 Digestive diseases                       33.1
 7 Neurological disorders                   28.7
 8 Maternal and neonatal disorders          26.9
 9 Unintentional injuries                   22.9
10 Enteric infections                       22.6
# ... with 11 more rows</code></pre>
</div>
</div>
<p>We selected the 5 causes with the highest magnitude:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Causes with highest death rate in 2019, globally</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>main_causes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Cardiovascular diseases"</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Neoplasms"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Chronic respiratory diseases"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Respiratory infections and tuberculosis"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Diabetes and kidney diseases"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_factor</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Secondly, we explored how the global number of deaths has changed over time:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a color scheme to use throughout the analysis</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="fu">length</span>(main_causes), </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">name =</span> <span class="st">"Set2"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_colors) <span class="ot">&lt;-</span> main_causes</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Plotting global deaths and DALYs over time</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cause_name <span class="sc">%in%</span> main_causes,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>         location_name<span class="sc">==</span><span class="st">"Global"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"All ages"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Number"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> val, <span class="at">color =</span> cause_name), <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">ymin =</span> lower, <span class="at">ymax =</span> upper, <span class="at">fill =</span> cause_name), <span class="at">alpha=</span><span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of global deaths and DALYs over time"</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">""</span>, <span class="at">color =</span> <span class="st">"Death cause"</span>, <span class="at">fill=</span><span class="st">"Death cause"</span>) <span class="sc">+</span> <span class="co">#Apply custom names to each plot component</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()))<span class="sc">+</span> <span class="co">#Display in millions   </span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span> <span class="co">#Apply custom colors</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span> <span class="co">#Apply custom colors</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"lightgray"</span>),</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey90"</span>)) <span class="sc">+</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>measure_name, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="co"># show separate plots for Deahts and DALYs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_group_work_files/figure-html/plot1-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<p>The pattern for deaths and DALYs over time is similar for most causes.</p>
<ul>
<li>It’s important to note that there is some correlation between these two measures, as some deaths are included in the DALYs measure (premature deaths), so in causes for which disease burden is mostly due to deaths, we expect a similar pattern.</li>
<li>For <strong>Respiratory infections and tuberculosis</strong>, the pattern for deaths and DALYs is very different, showing that the majority of disease burden is due to disability instead of deaths.</li>
<li>We also see that the DALYs for <strong>Diabetes and kidney diseases</strong> have been increasing at a quicker pace than for Chronic respiratory infections.</li>
</ul>
<p>Then we assessed the Proportion of deaths by each of the studied causes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Add the extra color needed for "Other" causes of death</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>my_colors2 <span class="ot">&lt;-</span> <span class="fu">c</span>(my_colors, <span class="st">"Other"</span><span class="ot">=</span><span class="st">"gray"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot proportion of deaths by cause, over time</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">==</span><span class="st">"Global"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"All ages"</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Percent"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">causes_group =</span> <span class="fu">ifelse</span>(<span class="fu">as.character</span>(cause_name) <span class="sc">%in%</span> main_causes,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">as.character</span>(cause_name), </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Other"</span>)) <span class="sc">%&gt;%</span>  <span class="co"># Create a variable with 5 main causes + Other</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, causes_group) <span class="sc">%&gt;%</span> </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">val =</span> <span class="fu">sum</span>(val)) <span class="sc">%&gt;%</span>  <span class="co"># Collapse all remaining causes into "Other"</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> val, <span class="at">fill=</span><span class="fu">fct_rev</span>(<span class="fu">fct_relevel</span>(causes_group,<span class="st">"Other"</span>, <span class="at">after =</span> <span class="cn">Inf</span>))), <span class="at">position =</span> <span class="fu">position_stack</span>()) <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(), <span class="at">breaks =</span> <span class="fu">seq</span>(.<span class="dv">1</span>,<span class="dv">1</span>,.<span class="dv">1</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">sec.axis =</span><span class="fu">dup_axis</span>())<span class="sc">+</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>),<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1990</span>,<span class="dv">2018</span>,<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors2) <span class="sc">+</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span> (<span class="at">title =</span> <span class="st">"Proportion of deaths by cause"</span>, </span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>, <span class="at">fill=</span><span class="st">"Death cause"</span>) <span class="sc">+</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_group_work_files/figure-html/plot2-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<ul>
<li>Analyzing the proportion of global deaths by cause, we see that the 5 studied causes were responsible for just under 60% of deaths in 1990, while causing 70% of deaths in 2019.</li>
<li><strong>Respiratory infections and tuberculosis</strong> are the only cause where we see a clearly decreasing pattern.</li>
<li><strong>Neoplasms</strong> appear to show the highest relative increase over time.</li>
</ul>
<p>Thirdly, we assessed the density estimation of death rates in all countries and territories, over time:</p>
<p><img src="./images/plot1.gif" class="img-fluid"></p>
<details>
<summary>
Code to generate the GIF above
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#NB: this code was run on  a separate file, and the output imported to the markdown report</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Imports</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)    <span class="co"># Animated plots</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magick)       <span class="co"># Image processing</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>causes_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Cardiovascular diseases"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Chronic respiratory diseases"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Neoplasms"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Respiratory infections and tuberculosis"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Diabetes and kidney diseases"</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters:</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>p_measure <span class="ot">=</span> <span class="st">"Deaths"</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>p_metric <span class="ot">=</span> <span class="st">"Rate"</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>p_age <span class="ot">=</span> <span class="st">"Age-standardized"</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Helper set, to include only global deaths for the selected parameters</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>global_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">==</span><span class="st">"Global"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span>p_measure,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span>p_metric,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span>p_age) <span class="sc">%&gt;%</span> </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cause_name <span class="sc">%in%</span> causes_list) <span class="sc">%&gt;%</span> </span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">year_global =</span> year,</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">val_global =</span> val,</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper_global =</span> upper,</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">lower_global =</span> lower,</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">cause_name =</span> cause_name)</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="co">#get the causes_list ordered (desc) by magnitude of global death rate</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>lvl_2019 <span class="ot">&lt;-</span> global_data <span class="sc">%&gt;%</span> </span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_global<span class="sc">==</span><span class="dv">2019</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>val_global) <span class="sc">%&gt;%</span> </span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(as.character) <span class="sc">%&gt;%</span> </span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  .[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> </span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_wrap</span>(<span class="at">width =</span> <span class="dv">22</span>) <span class="co">#!!</span></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="co">#Choose a color palette for comparability</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="fu">length</span>(lvl_2019), <span class="at">name =</span> <span class="st">"Set2"</span>)</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_colors) <span class="ot">&lt;-</span> lvl_2019</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a><span class="co">#Helper dataset, for labeling purposes</span></span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>my_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(data <span class="sc">%&gt;%</span> </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">group_by</span>(cause_name, year) <span class="sc">%&gt;%</span> </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(metric_name<span class="sc">==</span>p_metric, </span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>                           measure_name<span class="sc">==</span>p_measure, </span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>                           age_name<span class="sc">==</span>p_age,</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>                           cause_name <span class="sc">%in%</span> causes_list) <span class="sc">%&gt;%</span> </span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(val<span class="sc">==</span><span class="fu">max</span>(val)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">group_by</span>(cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(val<span class="sc">==</span>(<span class="fu">max</span>(val))) <span class="sc">%&gt;%</span> </span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">select</span>(val, cause_name))  <span class="sc">%&gt;%</span> </span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cause_name =</span> <span class="fu">str_wrap</span>(cause_name, <span class="at">width =</span> <span class="dv">22</span>)) <span class="sc">%&gt;%</span> <span class="co">#!!</span></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">tibble</span>(lvl_2019) <span class="sc">%&gt;%</span> <span class="fu">rowid_to_column</span>(), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"cause_name"</span><span class="ot">=</span><span class="st">"lvl_2019"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id2 =</span> <span class="fu">max</span>(rowid) <span class="sc">-</span> rowid <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">val =</span> <span class="dv">100</span><span class="sc">*</span>id2 <span class="sc">+</span> <span class="dv">400</span>)</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a><span class="co">#Anim1: boxplot + violin plot of death rate by country</span></span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a><span class="co"># sort causes by desc global death rate in 2019</span></span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>anim1 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">!=</span><span class="st">"Global"</span>,</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span>p_measure,</span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span>p_metric,</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span>p_age) <span class="sc">%&gt;%</span> </span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cause_name <span class="sc">%in%</span> causes_list) <span class="sc">%&gt;%</span> </span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cause_name =</span> <span class="fu">str_wrap</span>(cause_name, <span class="at">width =</span> <span class="dv">22</span>)) <span class="sc">%&gt;%</span> <span class="co">#!!</span></span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cause_name =</span> <span class="fu">fct_relevel</span>(cause_name, <span class="fu">rev</span>(lvl_2019))) <span class="sc">%&gt;%</span>  <span class="co">#sort causes</span></span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>val, <span class="at">x =</span> cause_name)) <span class="sc">+</span>  </span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill=</span>cause_name), <span class="at">trim =</span> T, <span class="at">scale =</span> <span class="st">"area"</span>)<span class="sc">+</span></span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">alpha=</span><span class="fl">0.4</span>)<span class="sc">+</span></span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> my_labs, <span class="fu">aes</span>(<span class="at">label =</span> cause_name, <span class="at">x =</span> id2, <span class="at">y =</span> val, <span class="at">color =</span> cause_name)) <span class="sc">+</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"lightgray"</span>),</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor.x =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey90"</span>),</span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span></span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span></span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of death rate by country across main death causes"</span>,</span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Year: {closest_state}'</span>,</span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Death Rate"</span>) <span class="sc">+</span></span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_states</span>(</span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a>    year,</span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">transition_length =</span> <span class="dv">2</span>,</span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">state_length =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span> </span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">exit_shrink</span>() <span class="sc">+</span></span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">'sine-in-out'</span>)</span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a><span class="co"># Time series with global death rates for the selected causes</span></span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>anim2 <span class="ot">&lt;-</span> global_data <span class="sc">%&gt;%</span> </span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cause_name =</span> <span class="fu">str_wrap</span>(cause_name, <span class="at">width =</span> <span class="dv">22</span>)) <span class="sc">%&gt;%</span> <span class="co">#!!</span></span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cause_name =</span> <span class="fu">fct_relevel</span>(cause_name, <span class="fu">rev</span>(lvl_2019))) <span class="sc">%&gt;%</span> </span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>val_global, </span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> year_global, </span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">reorder</span>(cause_name, <span class="fu">desc</span>(cause_name)),</span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> <span class="fu">reorder</span>(cause_name, <span class="fu">desc</span>(cause_name)))) <span class="sc">+</span></span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span></span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.4</span>)<span class="sc">+</span></span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"lightgray"</span>),</span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor.x =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey90"</span>)) <span class="sc">+</span></span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Global deaths over time"</span>,</span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">'Year: {frame_along}'</span>,</span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Death Rate"</span>,</span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_reveal</span>(year_global) <span class="sc">+</span></span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span> </span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">exit_shrink</span>() <span class="sc">+</span></span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">'sine-in-out'</span>)</span>
<span id="cb16-126"><a href="#cb16-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-127"><a href="#cb16-127" aria-hidden="true" tabindex="-1"></a><span class="co">#set a number of frames similar in both anims</span></span>
<span id="cb16-128"><a href="#cb16-128" aria-hidden="true" tabindex="-1"></a>anim1_gif <span class="ot">&lt;-</span> <span class="fu">animate</span>(anim1, </span>
<span id="cb16-129"><a href="#cb16-129" aria-hidden="true" tabindex="-1"></a>                     <span class="at">nframes =</span> <span class="dv">4</span> <span class="sc">*</span> <span class="fu">length</span>(<span class="fu">unique</span>(global_data<span class="sc">$</span>year_global)),</span>
<span id="cb16-130"><a href="#cb16-130" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="dv">1400</span>, <span class="at">height =</span> <span class="dv">800</span>, <span class="at">unit =</span> <span class="st">"px"</span>, <span class="at">res =</span> <span class="dv">200</span>,</span>
<span id="cb16-131"><a href="#cb16-131" aria-hidden="true" tabindex="-1"></a>                     <span class="at">end_pause =</span> <span class="dv">20</span>,</span>
<span id="cb16-132"><a href="#cb16-132" aria-hidden="true" tabindex="-1"></a>                     <span class="at">renderer =</span> <span class="fu">magick_renderer</span>())</span>
<span id="cb16-133"><a href="#cb16-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-134"><a href="#cb16-134" aria-hidden="true" tabindex="-1"></a><span class="fu">anim_save</span>(<span class="st">"anim1.gif"</span>, anim1_gif)</span>
<span id="cb16-135"><a href="#cb16-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-136"><a href="#cb16-136" aria-hidden="true" tabindex="-1"></a>anim2_gif <span class="ot">&lt;-</span> <span class="fu">animate</span>(anim2, </span>
<span id="cb16-137"><a href="#cb16-137" aria-hidden="true" tabindex="-1"></a>                     <span class="at">nframes =</span> <span class="dv">4</span> <span class="sc">*</span> <span class="fu">length</span>(<span class="fu">unique</span>(global_data<span class="sc">$</span>year_global)),</span>
<span id="cb16-138"><a href="#cb16-138" aria-hidden="true" tabindex="-1"></a>                     <span class="at">width =</span> <span class="dv">1400</span>, <span class="at">height =</span> <span class="dv">800</span>, <span class="at">unit =</span> <span class="st">"px"</span>, <span class="at">res =</span> <span class="dv">200</span>,</span>
<span id="cb16-139"><a href="#cb16-139" aria-hidden="true" tabindex="-1"></a>                     <span class="at">end_pause =</span> <span class="dv">20</span>,</span>
<span id="cb16-140"><a href="#cb16-140" aria-hidden="true" tabindex="-1"></a>                     <span class="at">renderer =</span> <span class="fu">magick_renderer</span>())</span>
<span id="cb16-141"><a href="#cb16-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-142"><a href="#cb16-142" aria-hidden="true" tabindex="-1"></a><span class="fu">anim_save</span>(<span class="st">"anim2.gif"</span>, anim2_gif)</span>
<span id="cb16-143"><a href="#cb16-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-144"><a href="#cb16-144" aria-hidden="true" tabindex="-1"></a><span class="co">#for some reason the last frame of anim2 is not as it should be</span></span>
<span id="cb16-145"><a href="#cb16-145" aria-hidden="true" tabindex="-1"></a><span class="co"># We need to manually correct it</span></span>
<span id="cb16-146"><a href="#cb16-146" aria-hidden="true" tabindex="-1"></a>anim2_gif[<span class="dv">100</span>] <span class="ot">&lt;-</span> anim2_gif[<span class="dv">99</span>]</span>
<span id="cb16-147"><a href="#cb16-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-148"><a href="#cb16-148" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">100</span><span class="sc">:</span><span class="dv">120</span>) {</span>
<span id="cb16-149"><a href="#cb16-149" aria-hidden="true" tabindex="-1"></a>  anim2_gif[j] <span class="ot">&lt;-</span> anim2_gif[<span class="dv">99</span>]</span>
<span id="cb16-150"><a href="#cb16-150" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-151"><a href="#cb16-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-152"><a href="#cb16-152" aria-hidden="true" tabindex="-1"></a><span class="co">#Combine both plots in a single GIF</span></span>
<span id="cb16-153"><a href="#cb16-153" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb16-154"><a href="#cb16-154" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> <span class="fu">image_append</span>(<span class="fu">c</span>(anim1_gif[i], anim2_gif[i]), <span class="at">stack =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-155"><a href="#cb16-155" aria-hidden="true" tabindex="-1"></a>new_gif <span class="ot">&lt;-</span> <span class="fu">image_flatten</span>(combined)</span>
<span id="cb16-156"><a href="#cb16-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-157"><a href="#cb16-157" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">120</span>) {</span>
<span id="cb16-158"><a href="#cb16-158" aria-hidden="true" tabindex="-1"></a>  combined <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_append</span>(<span class="fu">c</span>(anim1_gif[i], anim2_gif[i]), <span class="at">stack =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-159"><a href="#cb16-159" aria-hidden="true" tabindex="-1"></a>  new_gif <span class="ot">&lt;-</span> <span class="fu">c</span>(new_gif, combined)</span>
<span id="cb16-160"><a href="#cb16-160" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-161"><a href="#cb16-161" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-162"><a href="#cb16-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-163"><a href="#cb16-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Warning: may take a long time to generate</span></span>
<span id="cb16-164"><a href="#cb16-164" aria-hidden="true" tabindex="-1"></a><span class="fu">image_write</span>(new_gif, <span class="at">format=</span><span class="st">"gif"</span>, <span class="at">path=</span><span class="st">"plot2.gif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
<p>From the plots, we can see that:</p>
<ul>
<li>Death rates are consistently decreasing for all analyzed causes, except <strong>Diabetes and kidney diseases</strong>.</li>
<li><strong>Chronic respiratory diseases</strong> overtake Respiratory infections and tuberculosis as the 3<sup>rd</sup> leading cause of death in recent years.</li>
<li>We see the largest absolute decrease in death rates for <strong>Cardiovascular diseases</strong>.</li>
<li>The studied causes vary widely across countries, with outliers at the right tail of the density function (as expected, because it is impossible to have less than zero deaths). In 2019 and skewness was over 1 for all the studied causes (table below), and from the chart we can see that the years immediately before had even larger variation.</li>
<li>Not all causes appear to have the same variation across countries: <strong>Cardiovascular diseases</strong> show the largest absolute variation (Std. Dev = 141.89 for 2019), but <strong>Respiratory infections and tuberculosis</strong> have the highest coefficient of variation (CV = 1.06 for 2019) and skewness (2.52) (table below).</li>
<li><strong>Neoplasms</strong>, despite having a few outliers over the years, have the most symmetric pattern from the studied causes.</li>
</ul>
<p>We calculated descriptive statistics for the year 2019:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">!=</span><span class="st">"Global"</span>, <span class="co"># By country. Must exclude global values.</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>         year<span class="sc">==</span><span class="dv">2019</span>, <span class="co"># For the latest year only</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Rate"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>         cause_name <span class="sc">%in%</span> main_causes) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  summarytools<span class="sc">::</span><span class="fu">descr</span>(val, <span class="at">style =</span> <span class="st">"rmarkdown"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">method=</span><span class="st">"render"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="container st-container">
<h3 class="anchored">Descriptive Statistics</h3>
<h4 class="anchored"> val by cause_name </h4>
<strong>N</strong>: 204
<br>
<table class="table table-bordered table-striped st-table st-table-bordered st-table-striped st-descr-table ">
  <thead>
    <tr>
      <th></th>
      <th align="center" class="st-protect-top-border">Cardiovascul<br>ar diseases</th>
      <th align="center" class="st-protect-top-border">Chronic <br>respiratory <br>diseases</th>
      <th align="center" class="st-protect-top-border">Diabetes and<br> kidney <br>diseases</th>
      <th align="center" class="st-protect-top-border">Neoplasms</th>
      <th align="center" class="st-protect-top-border">Respiratory <br>infections <br>and <br>tuberculosis</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <strong>Mean</strong></td>
      <td><span>292.50</span></td>
      <td><span>42.12</span></td>
      <td><span>68.58</span></td>
      <td><span>130.16</span></td>
      <td><span>71.05</span></td>
    </tr>
    <tr>
      <td>
        <strong>Std.Dev</strong></td>
      <td><span>141.89</span></td>
      <td><span>32.12</span></td>
      <td><span>50.66</span></td>
      <td><span>31.88</span></td>
      <td><span>75.11</span></td>
    </tr>
    <tr>
      <td>
        <strong>Min</strong></td>
      <td><span>77.01</span></td>
      <td><span>9.32</span></td>
      <td><span>5.75</span></td>
      <td><span>71.26</span></td>
      <td><span>5.61</span></td>
    </tr>
    <tr>
      <td>
        <strong>Q1</strong></td>
      <td><span>189.09</span></td>
      <td><span>21.14</span></td>
      <td><span>29.87</span></td>
      <td><span>108.47</span></td>
      <td><span>18.92</span></td>
    </tr>
    <tr>
      <td>
        <strong>Median</strong></td>
      <td><span>276.26</span></td>
      <td><span>32.60</span></td>
      <td><span>61.81</span></td>
      <td><span>126.12</span></td>
      <td><span>36.94</span></td>
    </tr>
    <tr>
      <td>
        <strong>Q3</strong></td>
      <td><span>354.27</span></td>
      <td><span>51.51</span></td>
      <td><span>89.92</span></td>
      <td><span>145.89</span></td>
      <td><span>109.52</span></td>
    </tr>
    <tr>
      <td>
        <strong>Max</strong></td>
      <td><span>945.97</span></td>
      <td><span>231.20</span></td>
      <td><span>307.50</span></td>
      <td><span>284.33</span></td>
      <td><span>443.48</span></td>
    </tr>
    <tr>
      <td>
        <strong>MAD</strong></td>
      <td><span>118.56</span></td>
      <td><span>19.50</span></td>
      <td><span>44.48</span></td>
      <td><span>28.53</span></td>
      <td><span>34.26</span></td>
    </tr>
    <tr>
      <td>
        <strong>IQR</strong></td>
      <td><span>163.91</span></td>
      <td><span>30.23</span></td>
      <td><span>59.49</span></td>
      <td><span>37.38</span></td>
      <td><span>90.20</span></td>
    </tr>
    <tr>
      <td>
        <strong>CV</strong></td>
      <td><span>0.49</span></td>
      <td><span>0.76</span></td>
      <td><span>0.74</span></td>
      <td><span>0.24</span></td>
      <td><span>1.06</span></td>
    </tr>
    <tr>
      <td>
        <strong>Skewness</strong></td>
      <td><span>1.15</span></td>
      <td><span>2.52</span></td>
      <td><span>1.52</span></td>
      <td><span>1.01</span></td>
      <td><span>1.79</span></td>
    </tr>
    <tr>
      <td>
        <strong>SE.Skewness</strong></td>
      <td><span>0.17</span></td>
      <td><span>0.17</span></td>
      <td><span>0.17</span></td>
      <td><span>0.17</span></td>
      <td><span>0.17</span></td>
    </tr>
    <tr>
      <td>
        <strong>Kurtosis</strong></td>
      <td><span>2.27</span></td>
      <td><span>9.05</span></td>
      <td><span>3.30</span></td>
      <td><span>2.35</span></td>
      <td><span>3.70</span></td>
    </tr>
    <tr>
      <td>
        <strong>N.Valid</strong></td>
      <td><span>204</span></td>
      <td><span>204</span></td>
      <td><span>204</span></td>
      <td><span>204</span></td>
      <td><span>204</span></td>
    </tr>
    <tr>
      <td>
        <strong>Pct.Valid</strong></td>
      <td><span>100.00</span></td>
      <td><span>100.00</span></td>
      <td><span>100.00</span></td>
      <td><span>100.00</span></td>
      <td><span>100.00</span></td>
    </tr>
  </tbody>
</table>
<p>Generated by <a href="https://github.com/dcomtois/summarytools">summarytools</a> 1.0.1 (<a href="https://www.r-project.org/">R</a> version 4.1.3)<br>2022-10-09</p>
</div>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<p>In this section we analyze</p>
<p>First, we select data for Portugal only, and store it in a new object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting only PT data, and storing in a new object</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pt <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">==</span><span class="st">"Portugal"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, we calculate <em>absolute</em> and <em>relative</em> change for <strong>Deaths</strong>, for all ages (Number and Percent), and age-standardized (Rates):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate necessary variables for PT</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>pt_variations <span class="ot">&lt;-</span> pt <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>         year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1990</span>, <span class="dv">2019</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>upper, <span class="sc">-</span>lower) <span class="sc">%&gt;%</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> val) <span class="sc">%&gt;%</span> <span class="co"># move the years to columns, to be easier to compute other variables</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(measure_name, age_name, cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abs_change =</span> <span class="st">`</span><span class="at">2019</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="co"># calculate absolute change</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">rel_change =</span> abs_change <span class="sc">/</span> <span class="st">`</span><span class="at">1990</span><span class="st">`</span>) <span class="sc">%&gt;%</span> <span class="co"># calculate relative change</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co">#best practices, to avoid problems later</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate necessary variables globally</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>global_variations <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">==</span><span class="st">"Global"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>         year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1990</span>, <span class="dv">2019</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>upper, <span class="sc">-</span>lower) <span class="sc">%&gt;%</span> </span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> val) <span class="sc">%&gt;%</span> <span class="co"># move the years to columns, to be easier to compute other variables</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(measure_name, age_name, cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abs_change =</span> <span class="st">`</span><span class="at">2019</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="co"># calculate absolute change</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">rel_change =</span> abs_change <span class="sc">/</span> <span class="st">`</span><span class="at">1990</span><span class="st">`</span>) <span class="sc">%&gt;%</span> <span class="co"># calculate relative change</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name, metric_name, measure_name, age_name, <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="st">`</span><span class="at">2019</span><span class="st">`</span>, abs_change, rel_change) <span class="sc">%&gt;%</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">global_1990 =</span> <span class="st">`</span><span class="at">1990</span><span class="st">`</span>,</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>         <span class="at">global_2019 =</span> <span class="st">`</span><span class="at">2019</span><span class="st">`</span>,</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">global_abs_change =</span> abs_change,</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">global_rel_change =</span> rel_change) <span class="sc">%&gt;%</span> <span class="co"># Change names to avoid compatibility problems when joining with PT data</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="co">#best practices, to avoid problems later</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Analyzing the changes in number of deaths:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># helper object, to manually configure table header rows</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>header_helper <span class="ot">&lt;-</span> htmltools<span class="sc">::</span><span class="fu">withTags</span>(<span class="fu">table</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">class=</span><span class="st">"display"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">thead</span>(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tr</span>(</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">th</span>(<span class="at">rowspan =</span> <span class="dv">2</span>, <span class="st">"Causa"</span>),</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">th</span>(<span class="at">colspan =</span> <span class="dv">4</span>, <span class="at">class=</span><span class="st">"text-center"</span>, <span class="st">"Portugal"</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">th</span>(<span class="at">colspan =</span> <span class="dv">4</span>, <span class="at">class=</span><span class="st">"text-center"</span>, <span class="st">"Global"</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tr</span>(<span class="fu">lapply</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"1990"</span>,<span class="st">"2019"</span>,<span class="fu">paste</span>(<span class="st">"Abs."</span>,<span class="fu">as.character</span>(<span class="st">"\u0394"</span>)),<span class="fu">paste</span>(<span class="st">"Rel."</span>,<span class="fu">as.character</span>(<span class="st">"\u0394"</span>))),<span class="dv">2</span>),th))</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  )))</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Metric being analyzed</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>sel_metric <span class="ot">&lt;-</span> <span class="st">"Number"</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Table with absolute and relative changes in number of deaths</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>pt_variations <span class="sc">%&gt;%</span> </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric) <span class="sc">%&gt;%</span> </span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name, <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="st">`</span><span class="at">2019</span><span class="st">`</span>, abs_change, rel_change) <span class="sc">%&gt;%</span> </span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(global_variations <span class="sc">%&gt;%</span> </span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric) <span class="sc">%&gt;%</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(cause_name, global_1990, global_2019, global_abs_change, global_rel_change)) <span class="sc">%&gt;%</span> <span class="co"># join global and PT data</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(abs_change) <span class="sc">%&gt;%</span> </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">container =</span> header_helper, <span class="at">rownames =</span> F, <span class="at">escape =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#colnames = c("Causa",rep(c("1990","2019","Abs. Δ","Rel. Δ"),2))) %&gt;%  # Interactive table</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">"1990"</span>,<span class="st">"2019"</span>,<span class="st">"abs_change"</span>, <span class="st">"global_1990"</span>,<span class="st">"global_2019"</span>,<span class="st">"global_abs_change"</span>), <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">mark =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatPercentage</span>(<span class="fu">c</span>(<span class="st">"rel_change"</span>,<span class="st">"global_rel_change"</span>), <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">mark =</span> <span class="st">""</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-475d9930e3d3d5bd1810" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-475d9930e3d3d5bd1810">{"x":{"filter":"none","vertical":false,"class":"display","data":[["Cardiovascular diseases","Transport injuries","Maternal and neonatal disorders","Self-harm and interpersonal violence","Digestive diseases","Other infectious diseases","Neglected tropical diseases and malaria","Mental disorders","Nutritional deficiencies","Substance use disorders","Musculoskeletal disorders","Skin and subcutaneous diseases","Unintentional injuries","Enteric infections","HIV/AIDS and sexually transmitted infections","Other non-communicable diseases","Chronic respiratory diseases","Diabetes and kidney diseases","Respiratory infections and tuberculosis","Neurological disorders","Neoplasms"],[45852.0710315785,3692.38519067529,671.337309250479,1993.25441652844,5560.39556670621,243.468917789321,27.1623033622939,0.220631316029797,120.257571292603,152.349067539817,159.805069212464,83.2186872905469,2085.50959756586,50.8685333397747,218.455683576101,908.380893195195,4624.34813325159,4444.35381111324,3853.41668869377,2900.13301277329,21692.114806552],[37353.4389319213,1092.18612393078,103.431270124088,1524.25529856262,5433.29463075862,154.330276622051,12.7472474572141,0.0434958552054719,165.406782269269,233.206034971949,258.223149026359,233.430073097821,2268.30828698054,239.42579821268,487.915979171225,2684.56409989462,7051.85211355287,8325.59994204757,8507.32250522599,8606.47707221062,31651.4771712495],[-8498.63209965716,-2600.19906674451,-567.906039126391,-468.99911796582,-127.100935947591,-89.13864116727,-14.4150559050798,-0.177135460824325,45.1492109766663,80.8569674321319,98.4180798138945,150.211385807274,182.798689414685,188.557264872906,269.460295595124,1776.18320669942,2427.50398030128,3881.24613093434,4653.90581653222,5706.34405943733,9959.36236469752],[-0.185348925543715,-0.704205799901652,-0.845932486249625,-0.23529315378749,-0.0228582543135292,-0.366119182590705,-0.530700791932488,-0.802857291575065,0.375437575292555,0.530734902010475,0.615863315844164,1.80501989033822,0.0876518092403132,3.70675646599527,1.23347807291658,1.95532867325266,0.524939712658353,0.873298188193112,1.20773489931342,1.96761460053881,0.459123624114756],[12068420.5019121,1190096.62404406,3308531.19905815,1234342.1946377,1855372.28356137,2151771.27804235,1034118.58861803,178.102030439999,757152.441337544,172578.989594767,54413.9440637197,49281.546736515,1752059.86862142,3166775.40632464,442911.411118153,1268052.25866882,3093755.11215632,1278866.38045098,5135020.43360126,873338.88382364,5755373.14912662],[18562509.6678017,1278878.92026675,2078909.78936033,1245962.01370273,2557688.52777831,730486.28636117,747343.715324055,318.288324211948,251577.35270159,296097.494057075,117542.95673306,98521.6670026953,1774599.6162202,1748251.49094853,953728.314063548,1137246.56424882,3974314.51953256,2988924.00614068,3683097.55195794,2221323.39638173,10079637.3705153],[6494089.16588961,88782.2962226896,-1229621.40969782,11619.8190650293,702316.244216944,-1421284.99168118,-286774.87329397,140.186293771949,-505575.088635954,123518.504462309,63129.0126693398,49240.1202661803,22539.7475987813,-1418523.9153761,510816.902945395,-130805.694420006,880559.407376245,1710057.62568971,-1451922.88164333,1347984.51255809,4324264.22138865],[0.538105973756937,0.074600914269464,-0.371651749890664,0.00941377449098701,0.378531171581833,-0.660518618398069,-0.277313333741743,0.787112271688426,-0.667732230702225,0.71572156467217,1.16016241343238,0.999159391839785,0.0128647131313591,-0.447939538921216,1.1533161939897,-0.103154813633093,0.284624792672263,1.33716676881182,-0.282749192611308,1.54348390702171,0.751343850232344]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\">Causa<\/th>\n      <th colspan=\"4\" class=\"text-center\">Portugal<\/th>\n      <th colspan=\"4\" class=\"text-center\">Global<\/th>\n    <\/tr>\n    <tr>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \"\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render"],"jsHooks":[]}</script>
</div>
</div>
<p>From the table we see that in Portugal:</p>
<ul>
<li>The causes with the largest <strong><em>absolute reduction</em></strong> in number of deaths were <em>Cardiovascular diseases</em>, <em>Transport injuries</em> and <em>Maternal and neonatal disorders</em></li>
<li>The causes with the largest <strong><em>absolute increase</em></strong> in the number of deaths were <em>Neoplasms</em>, <em>Neurologic disorders</em> and <em>Respiratory infections and tuberculosis</em>.</li>
<li>The causes with the largest <strong><em>relative reduction</em></strong> in number of deaths were <em>Maternal and neonatal disorders</em>, <em>Transport injuries</em> and <em>Self-harm and interpersonal violence</em> (Excluding causes with &lt;500 deaths in 1990).</li>
<li>The causes with the largest <strong><em>relative increase</em></strong> in the number of deaths were <em>Neurological disorders</em>, <em>Other non-communicable diseases</em> and <em>Respiratory infections and tuberculosis</em> (Excluding causes with &lt;500 deaths in 1990).</li>
</ul>
<p>Comparing with global rates of change, we see that:</p>
<ul>
<li>While deaths due to <strong>Transport injuries</strong> increased 7.5% globally, in Portugal there was a 70.4% decrease in the number of deaths.</li>
<li>While deaths due to <strong>Cardiovascular diseases</strong> increased 53.8% globally, in Portugal there was a 18.5% decrease in the number of deaths.</li>
<li>Deaths by <strong>Respiratory infections and tuberculosis</strong> increased in Portugal by moire than 100%, while decreaing globally by 28.3%</li>
</ul>
<p>However, as we are analyzing numbers, we cannot know how much of this variation is due to <strong><em>population ageing</em></strong></p>
<p>Analyzing the changes as <strong><em>Proportional mortality</em></strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Metric being analyzed</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>sel_metric <span class="ot">&lt;-</span> <span class="st">"Percent"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Table with absolute and relative changes in proportion of deaths</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>pt_variations <span class="sc">%&gt;%</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric) <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name, <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="st">`</span><span class="at">2019</span><span class="st">`</span>, abs_change, rel_change) <span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(global_variations <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(cause_name, global_1990, global_2019, global_abs_change, global_rel_change)) <span class="sc">%&gt;%</span> <span class="co"># join global and PT data</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(abs_change) <span class="sc">%&gt;%</span> </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abs_change =</span> abs_change<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">global_abs_change =</span> global_abs_change<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">container =</span> header_helper, <span class="at">rownames =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#colnames = c("Causa",rep(c("1990","2019","Abs. Δ","Rel. Δ"),2))) %&gt;%  # Interactive table</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatPercentage</span>(<span class="fu">c</span>(<span class="st">"1990"</span>,<span class="st">"2019"</span>, <span class="st">"global_1990"</span>,<span class="st">"global_2019"</span>), <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">mark =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatPercentage</span>(<span class="fu">c</span>(<span class="st">"rel_change"</span>,<span class="st">"global_rel_change"</span>), <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">mark =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatCurrency</span>(<span class="fu">c</span>(<span class="st">"abs_change"</span>,<span class="st">"global_abs_change"</span>), <span class="at">currency =</span> <span class="st">" pp"</span>, <span class="at">before =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-9fa372be26b2bf05ad91" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9fa372be26b2bf05ad91">{"x":{"filter":"none","vertical":false,"class":"display","data":[["Cardiovascular diseases","Transport injuries","Digestive diseases","Self-harm and interpersonal violence","Maternal and neonatal disorders","Unintentional injuries","Other infectious diseases","Neglected tropical diseases and malaria","Mental disorders","Nutritional deficiencies","Substance use disorders","Musculoskeletal disorders","Skin and subcutaneous diseases","Enteric infections","HIV/AIDS and sexually transmitted infections","Other non-communicable diseases","Chronic respiratory diseases","Diabetes and kidney diseases","Respiratory infections and tuberculosis","Neurological disorders","Neoplasms"],[0.461596882846548,0.0371716114908789,0.0559770147177379,0.0200662598260195,0.00675842264904531,0.0209950141030719,0.00245102407197411,0.000273443449111963,2.22109181181031e-06,0.00121063806331323,0.00153371001022286,0.00160880493117638,0.000837870426600357,0.000512096614010811,0.00219923286256586,0.00914476114912652,0.0465538274911065,0.0447415460419323,0.0387928339191352,0.0291963355456291,0.218376448698982],[0.320941255241883,0.00938365507635929,0.0466829976930178,0.0130963499111025,0.000887575114623015,0.0194890429257637,0.00132587904960507,0.000109533155444733,3.73709811895374e-07,0.00142120050277539,0.00200365840842098,0.00221840267329885,0.00200581707166566,0.00205705779928761,0.00419277249691418,0.0230657924720388,0.0605906888410333,0.0715345871471963,0.0730941316858047,0.0739557319867496,0.271943497037203],[-14.0655627604664,-2.77879564145196,-0.929401702472003,-0.696990991491705,-0.587084753442229,-0.150597117730824,-0.112514502236904,-0.0163910293667231,-0.000184738199991494,0.0210562439462168,0.0469948398198117,0.0609597742122474,0.11679466450653,0.15449611852768,0.199353963434832,1.39210313229123,1.40368613499268,2.67930411052639,3.43012977666695,4.47593964411205,5.35670483382215],[-0.304715289100909,-0.747558561493578,-0.166032738108397,-0.347344745625157,-0.868671262406415,-0.0717299435911256,-0.459050988211153,-0.599430318040336,-0.831744995903262,0.173926829035847,0.30641281276493,0.378913397335703,1.39394661511592,3.01693302202577,0.90647046444297,1.52229578180311,0.301518953572794,0.598840305611101,0.884217374739149,1.53304843243663,0.245296819585432],[0.258753707585596,0.0255146143284804,0.0397791534094319,0.0264644080574322,0.070927643719611,0.0375622656889604,0.0461317806772317,0.0221742908061849,3.81892114603034e-06,0.0162304924438533,0.00370014640172798,0.00116671993433774,0.00105656858983349,0.0678901783612388,0.00949582807012282,0.027185564861252,0.0663265866469238,0.0274192150999694,0.110088813300373,0.0187324495806769,0.123395753515616],[0.328410690079716,0.022619993999985,0.0452499304253658,0.0220430992934555,0.0367451532927887,0.0313942563335849,0.0129171496590463,0.0132121383077265,5.63236030696532e-06,0.00444967619440536,0.00523937103360569,0.00207983112780731,0.0017434053078022,0.0309204690178372,0.016877758170336,0.0201115288444409,0.0703143338146251,0.0528806627530398,0.0651489538369531,0.039308047856253,0.178327918290919],[6.96569824941196,-0.289462032849539,0.547077701593388,-0.442130876397672,-3.41824904268222,-0.616800935537549,-3.32146310181854,-0.89621524984584,0.000181343916093498,-1.17808162494479,0.153922463187771,0.0913111193469573,0.0686836717968716,-3.69697093434016,0.738193010021316,-0.707403601681118,0.398774716770124,2.54614476530705,-4.49398594634195,2.05755982755761,5.49321647753031],[0.269201872097144,-0.113449503536658,0.137528744255194,-0.167066225489788,-0.481934667982929,-0.164207596167137,-0.719994557560586,-0.404168619271407,0.474856403573558,-0.725844658762001,0.41599019734973,0.782631003890303,0.650063540197575,-0.544551660281233,0.777386663459007,-0.26021294951623,0.0601229065039817,0.928598705697411,-0.408214587078916,1.09839336211536,0.445170625489565]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\">Causa<\/th>\n      <th colspan=\"4\" class=\"text-center\">Portugal<\/th>\n      <th colspan=\"4\" class=\"text-center\">Global<\/th>\n    <\/tr>\n    <tr>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \" pp\", 2, 3, \",\", \".\", false, null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \" pp\", 2, 3, \",\", \".\", false, null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render"],"jsHooks":[]}</script>
</div>
</div>
<p>Any particularly relevant conclusion? If not, remove the table</p>
<p>Analyzing rates, we can control for the effects of population size and age structure:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Metric being analyzed</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>sel_metric <span class="ot">&lt;-</span> <span class="st">"Rate"</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Table with absolute and relative changes in proportion of deaths</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>pt_variations <span class="sc">%&gt;%</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>) <span class="sc">%&gt;%</span> <span class="co"># Don't forget to filter for age-standardized data!</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cause_name, <span class="st">`</span><span class="at">1990</span><span class="st">`</span>, <span class="st">`</span><span class="at">2019</span><span class="st">`</span>, abs_change, rel_change) <span class="sc">%&gt;%</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(global_variations <span class="sc">%&gt;%</span> </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(metric_name<span class="sc">==</span>sel_metric,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>                     age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>) <span class="sc">%&gt;%</span><span class="co"># Don't forget to filter for age-standardized data!</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(cause_name, global_1990, global_2019, global_abs_change, global_rel_change)) <span class="sc">%&gt;%</span> <span class="co"># join global and PT data</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(abs_change) <span class="sc">%&gt;%</span> </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">container =</span> header_helper, <span class="at">rownames =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#colnames = c("Causa",rep(c("1990","2019","Abs. Δ","Rel. Δ"),2))) %&gt;%  # Interactive table</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">"1990"</span>,<span class="st">"2019"</span>,<span class="st">"abs_change"</span>, <span class="st">"global_1990"</span>,<span class="st">"global_2019"</span>,<span class="st">"global_abs_change"</span>), <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">mark =</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatPercentage</span>(<span class="fu">c</span>(<span class="st">"rel_change"</span>,<span class="st">"global_rel_change"</span>), <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">mark =</span> <span class="st">""</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-3b2be5f543678448d31a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b2be5f543678448d31a">{"x":{"filter":"none","vertical":false,"class":"display","data":[["Cardiovascular diseases","Neoplasms","Transport injuries","Digestive diseases","Chronic respiratory diseases","Unintentional injuries","Maternal and neonatal disorders","Self-harm and interpersonal violence","Diabetes and kidney diseases","Respiratory infections and tuberculosis","Other infectious diseases","Nutritional deficiencies","Other non-communicable diseases","Musculoskeletal disorders","Neglected tropical diseases and malaria","Mental disorders","Skin and subcutaneous diseases","Substance use disorders","Enteric infections","Neurological disorders","HIV/AIDS and sexually transmitted infections"],[365.664798739501,162.819852647265,33.8430303986331,43.5153569647209,36.3328915181867,19.4306947716956,11.9897250773,17.3502048173593,33.1759568332845,33.1520330904027,2.54586718958323,1.16390676829903,11.8544702835723,1.2516200800884,0.23643603453832,0.00216220410960259,0.697201784644066,1.30255313356169,0.635299887761351,27.3281848722636,2.09855708971753],[127.891035290789,131.099846396139,7.71268909534794,21.8989515056245,23.6858835283664,9.97133340681155,2.59635798924587,9.30455655078371,28.264413895452,28.4821085585364,0.882866271660478,0.554401095545662,11.4063141316329,1.05348385754421,0.062242861092145,0.000381635003392367,0.799759581092408,1.45886187734554,0.864328385117931,28.2443618268843,3.69336715626764],[-237.773763448712,-31.7200062511264,-26.1303413032852,-21.6164054590964,-12.6470079898203,-9.45936136488409,-9.39336708805412,-8.04564826657562,-4.91154293783244,-4.6699245318663,-1.66300091792275,-0.609505672753366,-0.448156151939402,-0.198136222544197,-0.174193173446175,-0.00178056910621023,0.102557796448342,0.156308743783848,0.22902849735658,0.916176954620642,1.59481006655011],[-0.650250623708796,-0.194816576328963,-0.772104063835269,-0.496753490419978,-0.348087021466204,-0.486825688737769,-0.783451415899308,-0.463720650636109,-0.148045253450078,-0.140863895711368,-0.653215896228661,-0.523672247085665,-0.0378048230936517,-0.158303806159935,-0.736745453316012,-0.823497235206666,0.147099159392857,0.120001817781083,0.360504545599124,0.0335249837815062,0.75995553057114],[354.498599336742,147.925402717197,23.4300202412248,46.6685729348326,87.8921447155722,36.6585167666252,51.2899419080422,24.6267058182521,34.4086048675159,107.533420477392,36.2501439118382,14.1673692371886,22.3449343059593,1.48363767926331,18.0642501561387,0.00336858544920379,1.3722266152816,3.74290462581466,62.8760664551764,30.3041369315938,8.06934729134167],[239.848622819659,125.414021896325,15.9926837848667,32.0677572391608,51.2754302548366,23.1096289561299,31.5333118176624,15.5538683294748,37.8879774831885,49.0881014904837,10.1891152054191,3.52481381071267,16.0481389733064,1.50627039783895,10.3168061802844,0.00396743680157101,1.30040456057022,3.58710981541978,23.9496547469053,30.6808883564758,12.0801778428381],[-114.649976517083,-22.5113808208721,-7.43733645635811,-14.6008156956718,-36.6167144607355,-13.5488878104952,-19.7566300903799,-9.07283748877729,3.4793726156726,-58.4453189869084,-26.0610287064191,-10.6425554264759,-6.29679533265296,0.0226327185756421,-7.74744397585433,0.000598851352367219,-0.0718220547113859,-0.155794810394882,-38.9264117082711,0.376751424882055,4.01083055149644],[-0.323414469709021,-0.152180628934364,-0.317427658183249,-0.312861842080755,-0.416609636495171,-0.36959727249059,-0.385195017880924,-0.368414580323323,0.101119258658388,-0.54350841559249,-0.718922075724736,-0.751201952056122,-0.281799679803651,0.0152548825713837,-0.428882677602952,0.17777531886827,-0.0523397913373419,-0.0416240396082687,-0.619097438864457,0.0124323430075737,0.497045226421228]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th rowspan=\"2\">Causa<\/th>\n      <th colspan=\"4\" class=\"text-center\">Portugal<\/th>\n      <th colspan=\"4\" class=\"text-center\">Global<\/th>\n    <\/tr>\n    <tr>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n      <th>1990<\/th>\n      <th>2019<\/th>\n      <th>Abs. Δ<\/th>\n      <th>Rel. Δ<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatPercentage(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \"\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render"],"jsHooks":[]}</script>
</div>
</div>
<p>From the table above we can see that:</p>
<ul>
<li>In Portugal, <strong>Neoplasms</strong> are the main cause of death, while globally cardiovascular diseases have the highest age-standardized death rates</li>
<li>In Portugal, <strong>Neurological disorders</strong> are one of the top 5 leading causes of death, whilst being the 8<sup>th</sup> gloablly</li>
<li>Besides the causes of death already highlighted in the tables above, we see that <em>Digestive diseases</em>, <em>Unintentional injuries</em> and <em>Self-harm and interpersonal violence</em> have seen large reductions in death rates in Portugal.</li>
<li>It is important to note that only 5 causes show an increase in death rates in Portugal between 1990 and 2019, and none of those is of particularly high magnitude.</li>
<li>Based on this observations, we can infer that most of the increases seen in the first table for PT are likely due to population ageing.</li>
</ul>
<p>Plotting the change over time of the main death causes in Portugal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Causes with highest death rate in 2019, in PT</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>pt_main_causes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Neoplasms"</span>, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Cardiovascular diseases"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Respiratory infections and tuberculosis"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Diabetes and kidney diseases"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Neurological disorders"</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Chronic respiratory diseases"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Digestive diseases"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_factor</span>()</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>pt <span class="sc">%&gt;%</span> </span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Rate"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>         cause_name <span class="sc">%in%</span> pt_main_causes) <span class="sc">%&gt;%</span> </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> val, <span class="at">color =</span> cause_name), <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">ymin =</span> lower, <span class="at">ymax =</span> upper, <span class="at">fill =</span> cause_name), <span class="at">alpha=</span><span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Death rate and DALYs, in Portugal, over time"</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">""</span>, <span class="at">color =</span> <span class="st">"Death cause"</span>, <span class="at">fill=</span><span class="st">"Death cause"</span>) <span class="sc">+</span> <span class="co">#Apply custom names to each plot component</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>(<span class="at">scale_cut =</span> <span class="fu">cut_short_scale</span>()))<span class="sc">+</span> <span class="co">#Display in thousands   </span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"lightgray"</span>),</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"grey90"</span>)) <span class="sc">+</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>measure_name, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="co"># show separate plots for Deaths and DALYs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_group_work_files/figure-html/pt_rate_plot-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
<p>We check how age-standardized death rates in Portugal compare with other countries, for the main studied causes of death:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#helper object to use in the plot</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>pt_stats <span class="ot">&lt;-</span> pt <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>         year<span class="sc">==</span><span class="dv">2019</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Rate"</span>, </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>         cause_name <span class="sc">%in%</span> main_causes) <span class="sc">%&gt;%</span> </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">row_number</span>())</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Create the plot</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location_name<span class="sc">!=</span><span class="st">"Global"</span>, <span class="co"># By country. Must exclude global values.</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>         measure_name<span class="sc">==</span><span class="st">"Deaths"</span>,</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>         year<span class="sc">==</span><span class="dv">2019</span>, <span class="co"># For the latest year only</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>         age_name<span class="sc">==</span><span class="st">"Age-standardized"</span>,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>         metric_name<span class="sc">==</span><span class="st">"Rate"</span>, </span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>         cause_name <span class="sc">%in%</span> main_causes) <span class="sc">%&gt;%</span> </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cause_name) <span class="sc">%&gt;%</span> </span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">stats =</span> <span class="fu">quantile</span>(val, <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>,<span class="dv">1</span>)),</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">q =</span> <span class="fu">c</span>(<span class="st">"min"</span>,<span class="st">"q1"</span>,<span class="st">"median"</span>,<span class="st">"q3"</span>,<span class="st">"max"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> q, <span class="at">values_from =</span> stats) <span class="sc">%&gt;%</span> </span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> cause_name)) <span class="sc">+</span> </span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> min, <span class="at">xmax =</span> max, <span class="at">ymin =</span> id<span class="fl">-0.2</span>, <span class="at">ymax =</span> id<span class="fl">+0.2</span>, <span class="at">fill =</span> cause_name), <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span> </span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> q1, <span class="at">xmax =</span> q3, <span class="at">ymin =</span> id<span class="fl">-0.2</span>, <span class="at">ymax =</span> id<span class="fl">+0.2</span>, <span class="at">fill =</span> cause_name), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> median <span class="sc">-</span> <span class="dv">1</span>, <span class="at">xmax =</span> median <span class="sc">+</span> <span class="dv">1</span>, <span class="at">ymin =</span> id<span class="fl">-0.2</span>, <span class="at">ymax =</span> id<span class="fl">+0.2</span>), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> pt_stats, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> val, <span class="at">y =</span> id), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">shape =</span> <span class="dv">18</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dl</span>(<span class="fu">aes</span>(<span class="at">label =</span> cause_name, <span class="at">x =</span> max, <span class="at">y =</span> id, <span class="at">color =</span> cause_name), <span class="at">method =</span> <span class="fu">list</span>(<span class="fu">dl.trans</span>(<span class="at">x =</span> x <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="fu">rep</span>(<span class="fl">0.3</span>,<span class="dv">4</span>))),<span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="st">"last.points"</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Portuguese death rates compared to all countries"</span>,</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Min-Max: Lighter colors. Q1-Q3: Darker colors.</span><span class="sc">\n</span><span class="st">Median: Black line. Portugal: Red dot.</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">""</span>, <span class="at">x =</span> <span class="st">"Age-standardized death rate"</span>) <span class="sc">+</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000</span>)) <span class="sc">+</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line.x =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="data_group_work_files/figure-html/pt_compare_global-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<p>Global Burden of Disease Collaborative Network. Global Burden of Disease Study 2019 (GBD 2019) Results. Seattle, United States: Institute for Health Metrics and Evaluation (IHME), 2020. Available from https://vizhub.healthdata.org/gbd-results/.</p>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>